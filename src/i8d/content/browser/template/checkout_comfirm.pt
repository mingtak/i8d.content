<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="i8d.content">
<body>


<metal:content-core fill-slot="content-core">
<metal:content-core define-macro="content-core"
                    tal:define="toc context/table_of_contents|nothing;">



<?python
from plone import api
context = econtext['context']
catalog = context.portal_catalog
request = econtext['request']
itemInCart = request.cookies.get('itemInCart', '')
itemInCart_list = itemInCart.split()
brain = catalog({'UID':itemInCart_list})
onClick_inc = "var result = document.getElementById('UID'); var qty = result.value; if( !isNaN( qty )) result.value++;return false;"
onClick_dec = "var result = document.getElementById('UID'); var qty = result.value; if( !isNaN( qty ) && qty > 1 ) result.value--;return false;"
?>


<section class="main-container col1-layout">
  <div class="main container">
    <div class="col-main">
      <div class="cart wow bounceInUp animated">
        <div class="page-title">
          <h2 i18n:translate="">Comfirm Cart / shipping info</h2>
        </div>
                <div class="table-responsive">
          <form method="post" action="/checkout">
<!--            <input type="hidden" value="Vwww7itR3zQFe86m" name="form_key"> -->
            <fieldset>
              <table class="data-table cart-table" id="shopping-cart-table">
                <thead>
                  <tr class="first last">
                    <th rowspan="1">&nbsp;</th>
                    <th rowspan="1"><span class="nobr" i18n:translate="">Product Name</span></th>
<!--                    <th rowspan="1"></th> -->
                    <th colspan="1" class="a-center"><span class="nobr" i18n:translate="">Unit Price</span></th>
                    <th class="a-center" rowspan="1" i18n:translate="">Qty</th>
                    <th colspan="1" class="a-center" i18n:translate="">Subtotal</th>
                  </tr>
                </thead>
                <tfoot>
                  <tr class="first last">
                    <td class="a-right last" colspan="7">



<div class="mini-cart">
  <div class="actions">

    <h3 i18n:translate="">Shipping info</h3>

    <h4 i18n:translate="">Receiver</h4>
        <span i18n:translate="">Receiver</span>:
        <input class="receiver input-text" name="receiver" value="" type="text" placeholder="Receiver" autocomplete="off"
               tal:attributes="value view/profile/title" i18n:attributes="placeholder">
        <span i18n:translate="">Phone Number</span>:
        <input class="phone input-text" name="phone" value="" type="text" placeholder="Phone Number" autocomplete="off"
               tal:attributes="value view/profile/phone" i18n:attributes="placeholder">
        <span i18n:translate="">Cell Phone Number</span>:
        <input class="cellphone input-text" name="cellphone" value="" type="text" placeholder="Cell Phone Number" autocomplete="off"
               tal:attributes="value view/profile/cellPhone" i18n:attributes="placeholder">
        <span i18n:translate="">Email</span>:
        <input class="email input-text" name="email" value="" type="text" placeholder="Email" autocomplete="off"
               tal:attributes="value view/profile/email" i18n:attributes="placeholder">

    <h4 i18n:translate="">Address</h4>
    <p i18n:translate="">You can fill below fields to select shipping to door, or select C2C shipping later.
                         (if you want to using C2C, please ignore below fields.)</p>
        <select class="city selectcity" name="city" tal:attributes="data-selected view/profile/addr_city"></select>
        <select class="district selectdistrict" name="district" tal:attributes="data-selected view/profile/addr_district"></select>
        <input class="zipcode fillzip input-text" name="zipcode" value="" type="text" placeholder="郵遞區號" autocomplete="off">
        <input class="address filladdress input-text" name="address" value="" type="text" placeholder="請輸入地址" tal:attributes="value view/profile/addr_address" autocomplete="off">

    <h4 i18n:translate="">Invoice</h4>
    <p>若您需要開立三聯式發票，請填寫統一編號及抬頭。</p>
        <span i18n:translate="">Tax ID</span>:
        <input class="taxid input-text" name="taxid" value="" type="text" autocomplete="off">
        <span i18n:translate="">Company Title</span>:
        <input class="companytitle input-text" name="companytitle" value="" type="text" autocomplete="off">

  </div>
</div>
<br>

<div class="mini-cart">
<div class="actions">

<button class="btn btn-checkout" title="Checkout" type="submit" i18n:translate="">Checkout</button>

</div>
</div>

<button onclick="javascript:location.href='/shopping_cart'" class="button btn-continue"
        title="Edit Item" type="button"><span i18n:translate="">Edit Shopping Item(s)</span></button>

                    </td>
                  </tr>
                </tfoot>
                <tbody>
                  <tr class="first odd" tal:repeat="item brain">
<tal:qty define="qty python:int(request.cookies.get(item.UID, 2))">
                    <td class="image">
                      <a class="product-image" tal:attributes="title item/Title; href item/getURL">
                        <img width="75" tal:attributes="alt item/Title; src string:${item/getURL}/@@images/image_1/thumb" />
                      </a>
                    </td>
                    <td><h2 class="product-name">
                      <a tal:attributes="href item/getURL" tal:content="item/Title">Sample Product</a> </h2></td>
<!--                    <td class="a-center"><a title="Edit item parameters" class="edit-bnt" href="#configure/id/15945/"></a></td> -->
                    <td class="a-right"><span class="cart-price"> <span class="price" tal:content="string:$${item/salePrice}">$70.00</span> </span></td>
                    <td class="a-center movewishlist">
            <input maxlength="12" class="input-text qty" title="Qty" size="4" tal:attributes="value qty; id item/UID; name item/UID" style="display:none">
            <span class="input-text qty" title="Qty" size="4" tal:content="qty" />
                    </td>
                    <td class="a-right movewishlist"><span class="cart-price"> <span class="price"
                        tal:content="python:'$%s' % (item.salePrice * qty)">$70.00</span> </span></td>
</tal:qty>
                  </tr>
                </tbody>
              </table>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>


<script src="/++theme++barceloneta/js/dk-tw-citySelector.min.js"></script>
<script>
  $(function() {
  $('form').dk_tw_citySelector('.city', '.district', '.zipcode');
  });
</script>


<script type="text/javascript">
  $(document).on('click', 'a.cart_del', function(event){
    $(this).parent().parent("tr").remove();
  });
</script>

</metal:content-core>
</metal:content-core>

</body>
</html>




