<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="i8d.content">
<body>


<metal:content-core fill-slot="content-core">
<metal:content-core define-macro="content-core"
                    tal:define="toc context/table_of_contents|nothing;">

<section class="main-container col1-layout">
  <div class="main container">
    <div class="col-main">
      <div class="cart wow_ bounceInUp_ animated_">
        <div class="page-title">
          <h2>
            <a href="/resource/help_for_anon/@@without_pt" tal:condition="context/@@user_is_anonymous" class="iframe">
              <img src="/resource/images/helper_3.png/@@images/image/help" class="wow bounceInLeft" data-wow-duration="1s"/>
            </a>
            <span style="vertical-align:bottom" i18n:translate="">Confirm Cart / shipping info</span>
          </h2>



        </div>
                <div class="table-responsive">
          <form method="post" action="/checkout" name="checkout_confirm">
            <fieldset>
              <table class="data-table cart-table" id="shopping-cart-table">
                <thead>
                  <tr class="first last">
                    <th rowspan="1">&nbsp;</th>
                    <th rowspan="1"><span class="nobr" i18n:translate="">Product Name</span></th>
                    <th colspan="1" class="a-center"><span class="nobr" i18n:translate="">Unit Price</span></th>
                    <th class="a-center" rowspan="1" i18n:translate="">Qty</th>
                    <th colspan="1" class="a-center" i18n:translate="">Subtotal</th>
                  </tr>
                </thead>
                <tfoot>
                  <tr class="first last">
                    <td class="a-right last" colspan="7">



<div class="mini-cart">
  <div class="actions">

    <h3 i18n:translate="">Shipping info</h3>

    <h4 i18n:translate="">Receiver</h4>
<tal:anon tal:define="anon python:bool(view.profile)">
    <tal:t case="python:True">
        <span i18n:translate="">Receiver</span>:
        <input class="receiver input-text" name="receiver" value="" type="text" placeholder="Receiver" autocomplete="off"
               tal:attributes="value view/profile/title" i18n:attributes="placeholder" required>
        <span i18n:translate="">Phone Number</span>:
        <input class="phone input-text" name="phone" value="" type="text" placeholder="Phone Number" autocomplete="off"
               tal:attributes="value view/profile/phone" i18n:attributes="placeholder">
        <span i18n:translate="">Cell Phone Number</span>:
        <input class="cellphone input-text" name="cellphone" value="" type="text" placeholder="Cell Phone Number" autocomplete="off"
               tal:attributes="value view/profile/cellPhone" i18n:attributes="placeholder">
        <span i18n:translate="">Email</span>:
        <input class="email input-text" name="email" value="" type="text" placeholder="Email" autocomplete="off"
               tal:attributes="value view/profile/email" i18n:attributes="placeholder">
    </tal:t>

    <tal:t case="python:False">
        <span i18n:translate="">Receiver</span>:
        <input class="receiver input-text" name="receiver" type="text" placeholder="Receiver" autocomplete="on"
               i18n:attributes="placeholder" required
               tal:attributes="value python:'' if anon else view.profile.title">
        <span i18n:translate="">Phone Number</span>:
        <input class="phone input-text" name="phone" value="" type="text" placeholder="Phone Number" autocomplete="on"
               pattern="[0-9, -]{8,12}" required title="Please fill phone number include zip code, ex: 0223456789"
               i18n:attributes="title; placeholder">
        <span i18n:translate="">Cell Phone Number</span>:
        <input class="cellphone input-text" name="cellphone" value="" type="text" placeholder="Cell Phone Number" autocomplete="on"
               pattern="[0-9, -]{10,12}" required title="Please fill cell phone number, ex: 0912345678"
               i18n:attributes="placeholder; title">
        <span i18n:translate="">Email</span>:
        <input class="email input-text" name="email" value="" type="email" placeholder="Email" autocomplete="on"
               i18n:attributes="placeholder">
    </tal:t>
</tal:anon>

    <h4 i18n:translate="">Address</h4>
    <p i18n:translate="">You can fill below fields to select shipping to door, or select C2C shipping later.
                         (if you want to using C2C, please ignore below fields.)</p>
        <select class="city selectcity" name="city" required tal:attributes="data-selected view/profile/addr_city | nothing" title="Please select a city" i18n:translate="title"></select>
        <select class="district selectdistrict" name="district" required tal:attributes="data-selected view/profile/addr_district | nothing"></select>
        <input class="zipcode fillzip input-text" name="zipcode" value="" type="text" placeholder="郵遞區號" autocomplete="off">
        <input class="address filladdress input-text" name="address" value="" type="text" placeholder="請輸入地址" required
               tal:attributes="value view/profile/addr_address | nothing" autocomplete="on">

    <h4 i18n:translate="">Invoice</h4>
    <p>若您需要開立三聯式發票，請填寫統一編號及抬頭。</p>
        <span i18n:translate="">Tax ID</span>:
        <input class="taxid input-text" name="taxid" value="" type="text" autocomplete="on" >
        <span i18n:translate="">Company Title</span>:
        <input class="companytitle input-text" name="companytitle" value="" type="text" autocomplete="on">

  </div>
</div>
<br>

<div class="mini-cart">
<div class="actions">

<button class="btn btn-checkout" title="Checkout" type="submit" i18n:translate="">Checkout</button>

</div>
</div>

<button onclick="javascript:location.href='/shopping_cart'" class="button btn-continue"
        title="Edit Item" type="button"><span i18n:translate="">Edit Shopping Item(s)</span></button>

                    </td>
                  </tr>
                </tfoot>
                <tbody>
                  <tr class="first odd" tal:repeat="item view/brain">
<tal:qty define="qty python:int(request.cookies.get(item.UID, 1))">
                    <td class="image">
                      <a class="product-image" tal:attributes="title item/Title; href item/getURL">
                        <tal:img switch="item/hasImage1">
                          <img tal:case="True" width="75" tal:attributes="alt item/Title; src string:${item/getURL}/@@images/image_1/thumb" />
                          <img tal:case="default" width="75" tal:attributes="alt item/Title;
                                                                             src string:/resource/images/nopicture.png/@@images/image/thumb" />
                        </tal:img>
                      </a>
                    </td>
                    <td><h2 class="product-name">
                      <a tal:attributes="href item/getURL" tal:content="item/Title">Sample Product</a> </h2></td>
<!--                    <td class="a-center"><a title="Edit item parameters" class="edit-bnt" href="#configure/id/15945/"></a></td> -->
                    <td class="a-right"><span class="cart-price"> <span class="price" tal:content="string:$${item/salePrice}">$70.00</span> </span></td>
                    <td class="a-center movewishlist">
            <input maxlength="12" class="input-text qty" title="Qty" size="4" tal:attributes="value qty; id item/UID; name item/UID" style="display:none">
            <span class="input-text qty" title="Qty" size="4" tal:content="qty" />
                    </td>
                    <td class="a-right movewishlist"><span class="cart-price"> <span class="price"
                        tal:content="python:'$%s' % (item.salePrice * qty)">$70.00</span> </span></td>
</tal:qty>
                  </tr>

<tr>
<td rowspan="1">&nbsp;</td>
<td rowspan="1">&nbsp;</td>
<td rowspan="1">&nbsp;</td>
<td rowspan="1" class="right">運費:</td>
<td rowspan="1">$ <span tal:replace="view/shippingFee"/></td>
</tr>

<tr tal:condition="python:view.profile">
<td rowspan="1">&nbsp;</td>
<td rowspan="1" style="color:blue">
  是否使用紅利：
  <input type="radio" name="usingbonus" value="y" checked>是
  <input type="radio" name="usingbonus" value="n">不使用
</td>
<td rowspan="1" tal:content="string:您持有紅利 ${view/profile/bonus} 點"></td>
<td rowspan="1" class="right">本次可使用紅利折抵:</td>
<td rowspan="1" style="color:red">$ <span tal:replace="view/discount"/></td>
</tr>


                </tbody>
              </table>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>


<script src="/++theme++barceloneta/js/dk-tw-citySelector.min.js"></script>
<script>
  $(function() {
  $('form').dk_tw_citySelector('.city', '.district', '.zipcode');
  });
</script>


<script type="text/javascript">
  $(document).on('click', 'a.cart_del', function(event){
    $(this).parent().parent("tr").remove();
  });
</script>

</metal:content-core>
</metal:content-core>

</body>
</html>
